# Reference

<!-- DO NOT EDIT: This document was generated by Puppet Strings -->

## Table of Contents

### Classes

#### Public Classes

* [`dynatraceoneagent`](#dynatraceoneagent): This module deploys the OneAgent on Linux Operating Systems with different available configurations and ensures
the OneAgent service maintains a running state.

#### Private Classes

* `dynatraceoneagent::config`: This class manages the configuration of the OneAgent
* `dynatraceoneagent::install`: This class manages the installation of the OneAgent on the host
* `dynatraceoneagent::service`: Manages the OneAgent service
* `dynatraceoneagent::uninstall`: Uninstalls the Dynatrace OneAgent

## Classes

### <a name="dynatraceoneagent"></a>`dynatraceoneagent`

This module deploys the OneAgent on Linux Operating Systems with different available configurations and ensures
the OneAgent service maintains a running state.

#### Examples

##### Basic usage

```puppet
class { 'dynatraceoneagent':
    tenant_url  => 'https://{your-environment-id}.live.dynatrace.com',
    paas_token  => '{your-paas-token}',
}
```

#### Parameters

The following parameters are available in the `dynatraceoneagent` class:

* [`tenant_url`](#tenant_url)
* [`paas_token`](#paas_token)
* [`api_path`](#api_path)
* [`version`](#version)
* [`arch`](#arch)
* [`installer_type`](#installer_type)
* [`verify_signature`](#verify_signature)
* [`proxy_server`](#proxy_server)
* [`download_cert_link`](#download_cert_link)
* [`cert_file_name`](#cert_file_name)
* [`ca_cert_src_path`](#ca_cert_src_path)
* [`allow_insecure`](#allow_insecure)
* [`download_options`](#download_options)
* [`download_dir`](#download_dir)
* [`oneagent_params_hash`](#oneagent_params_hash)
* [`reboot_system`](#reboot_system)
* [`service_state`](#service_state)
* [`manage_service`](#manage_service)
* [`package_state`](#package_state)
* [`host_tags`](#host_tags)
* [`host_metadata`](#host_metadata)
* [`hostname`](#hostname)
* [`oneagent_communication_hash`](#oneagent_communication_hash)
* [`log_monitoring`](#log_monitoring)
* [`log_access`](#log_access)
* [`host_group`](#host_group)
* [`monitoring_mode`](#monitoring_mode)
* [`network_zone`](#network_zone)
* [`oneagent_puppet_conf_dir`](#oneagent_puppet_conf_dir)

##### <a name="tenant_url"></a>`tenant_url`

Data type: `String`

URL of your dynatrace Tenant
Managed `https://{your-domain}/e/{your-environment-id}` - SaaS `https://{your-environment-id}.live.dynatrace.com`

##### <a name="paas_token"></a>`paas_token`

Data type: `String`

Paas token for downloading the OneAgent installer

##### <a name="api_path"></a>`api_path`

Data type: `String`

Path of the Dynatrace OneAgent deployment API

Default value: `'/api/v1/deployment/installer/agent/'`

##### <a name="version"></a>`version`

Data type: `String`

The required version of the OneAgent in 1.155.275.20181112-084458 format

Default value: `'latest'`

##### <a name="arch"></a>`arch`

Data type: `String`

The architecture of your OS - default is all

Default value: `'all'`

##### <a name="installer_type"></a>`installer_type`

Data type: `String`

The type of the installer - default is default

Default value: `'default'`

##### <a name="verify_signature"></a>`verify_signature`

Data type: `Boolean`

Verify OneAgent installer signature (Linux only).

Default value: ``false``

##### <a name="proxy_server"></a>`proxy_server`

Data type: `Optional[String]`

Proxy server to be used by the archive module for downloading the OneAgent installer if needed

Default value: ``undef``

##### <a name="download_cert_link"></a>`download_cert_link`

Data type: `String`

Link for downloading dynatrace root cert pem file

Default value: `'https://ca.dynatrace.com/dt-root.cert.pem'`

##### <a name="cert_file_name"></a>`cert_file_name`

Data type: `String`

Name of the downloaded cert file

Default value: `'dt-root.cert.pem'`

##### <a name="ca_cert_src_path"></a>`ca_cert_src_path`

Data type: `String`

Location of dynatrace root cert file in module

Default value: `"modules/${module_name}/${cert_file_name}"`

##### <a name="allow_insecure"></a>`allow_insecure`

Data type: `Boolean`

Ignore HTTPS certificate errors when using the archive module.

Default value: ``false``

##### <a name="download_options"></a>`download_options`

Data type: `Optional`

In some cases you may need custom flags for curl/wget/s3 which can be supplied via download_options.
Refer to [Download Customizations](https://github.com/voxpupuli/puppet-archive#download-customizations)

Default value: ``undef``

##### <a name="download_dir"></a>`download_dir`

Data type: `String`

OneAgent installer file download directory.

Default value: `'/tmp'`

##### <a name="oneagent_params_hash"></a>`oneagent_params_hash`

Data type: `Hash`

Hash map of additional parameters to pass to the installer
Refer to the Customize OneAgent installation documentation on [Technology Support](https://www.dynatrace.com/support/help/technology-support/operating-systems/)

Default value: `{
    '--set-monitoring-mode'        => $monitoring_mode,
    '--set-app-log-content-access' => $log_monitoring,
  }`

##### <a name="reboot_system"></a>`reboot_system`

Data type: `Boolean`

If set to true, puppet will reboot the server after installing the OneAgent - default is false

Default value: ``false``

##### <a name="service_state"></a>`service_state`

Data type: `Enum['running','stopped']`

What state the dynatrace oneagent service should be in

Default value: `'running'`

##### <a name="manage_service"></a>`manage_service`

Data type: `Boolean`

Whether puppet should manage the state of the OneAgent service - default is true

Default value: ``true``

##### <a name="package_state"></a>`package_state`

Data type: `Enum['present','absent']`

What state the dynatrace oneagent package should be in

Default value: `'present'`

##### <a name="host_tags"></a>`host_tags`

Data type: `Array`

Values to automatically add tags to a host,
should contain an array of strings or key/value pairs.
For example: ['Environment=Prod', 'Organization=D1P', 'Owner=john.doe@dynatrace.com', 'Support=https://www.dynatrace.com/support/linux']

Default value: `[]`

##### <a name="host_metadata"></a>`host_metadata`

Data type: `Array`

Values to automatically add metadata to a host,
Should contain an array of strings or key/value pairs.
For example: ['LinuxHost', 'Gdansk', 'role=fallback', 'app=easyTravel']

Default value: `[]`

##### <a name="hostname"></a>`hostname`

Data type: `Optional[String[1]]`

Overrides an automatically detected host name. Example: My App Server

Default value: ``undef``

##### <a name="oneagent_communication_hash"></a>`oneagent_communication_hash`

Data type: `Hash`

Hash map of parameters used to change OneAgent communication settings
Refer to Change OneAgent communication settings on [Communication Settings](https://www.dynatrace.com/support/help/shortlink/oneagentctl#change-oneagent-communication-settings)

Default value: `{}`

##### <a name="log_monitoring"></a>`log_monitoring`

Data type: `Boolean`

Enable or disable Log Monitoring

Default value: ``true``

##### <a name="log_access"></a>`log_access`

Data type: `Boolean`

Enable or disable access to system logs

Default value: ``true``

##### <a name="host_group"></a>`host_group`

Data type: `Optional[String[1]]`

Change host group assignment

Default value: ``undef``

##### <a name="monitoring_mode"></a>`monitoring_mode`

Data type: `Enum['fullstack','infra-only','discovery']`

Set the monitoring mode

Default value: `'fullstack'`

##### <a name="network_zone"></a>`network_zone`

Data type: `Optional[String[1]]`

Set the network zone for the host

Default value: ``undef``

##### <a name="oneagent_puppet_conf_dir"></a>`oneagent_puppet_conf_dir`

Data type: `String`

Directory puppet will use to store oneagent configurations

Default value: `'/var/lib/dynatrace/oneagent/agent/config/puppet'`

